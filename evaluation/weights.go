package evaluation

import (
	. "github.com/mhib/combusken/backend"
	. "github.com/mhib/combusken/utils"
)

var PawnValue = S(78, 165)
var KnightValue = S(408, 559)
var BishopValue = S(385, 545)
var RookValue = S(530, 934)
var QueenValue = S(1223, 1769)

// Pawns Square scores
// Bishop Flag, Rank, Row
var PawnScores = [16][7][8]Score{
	{
		{},
		{S(-15, 16), S(-8, 8), S(-18, 15), S(-6, 16), S(-19, 25), S(16, 23), S(31, 15), S(-10, 18)},
		{S(-14, 9), S(-15, 6), S(-15, 6), S(-3, 3), S(1, 1), S(1, 12), S(9, 13), S(-15, 17)},
		{S(-15, 19), S(-19, 16), S(2, 0), S(9, -9), S(18, -12), S(18, 4), S(3, 24), S(-14, 28)},
		{S(-8, 32), S(0, 19), S(-3, 4), S(11, -11), S(29, -12), S(30, 5), S(32, 23), S(-1, 33)},
		{S(1, 56), S(12, 37), S(22, 29), S(47, -5), S(65, -14), S(67, 22), S(66, 37), S(7, 61)},
		{S(11, -1), S(-21, 30), S(2, 24), S(17, -1), S(-19, 6), S(-17, 21), S(-125, 63), S(-142, 53)},
	},
	{
		{},
		{S(-12, 25), S(-6, 6), S(-19, 9), S(8, 16), S(-18, 18), S(27, 16), S(26, -1), S(-10, 13)},
		{S(-9, 10), S(-17, 1), S(-3, 5), S(0, -5), S(10, 10), S(-2, -2), S(15, 11), S(-21, 10)},
		{S(-7, 18), S(-9, 11), S(4, -7), S(28, -6), S(24, -18), S(29, 0), S(3, 12), S(-12, 14)},
		{S(3, 31), S(15, 3), S(16, 4), S(21, -23), S(41, -12), S(43, -12), S(28, 15), S(-12, 31)},
		{S(-14, 82), S(34, 23), S(24, 26), S(67, -20), S(60, -16), S(102, -11), S(39, 26), S(-3, 49)},
		{S(-22, 66), S(10, 5), S(28, 6), S(16, -8), S(57, -11), S(16, -25), S(-83, 33), S(-108, 27)},
	},
	{
		{},
		{S(-19, 15), S(-13, 14), S(-16, 22), S(-16, 3), S(5, 27), S(10, 8), S(46, 4), S(-9, 19)},
		{S(-21, 9), S(-22, 9), S(-13, -2), S(0, 9), S(5, -13), S(5, 15), S(1, -3), S(-17, 19)},
		{S(-13, 6), S(-10, 10), S(8, 4), S(18, -15), S(39, -13), S(22, -8), S(7, 14), S(-13, 22)},
		{S(-9, 23), S(2, 14), S(0, 1), S(26, -8), S(35, -16), S(55, -3), S(21, 11), S(-6, 32)},
		{S(0, 46), S(8, 38), S(63, -8), S(44, -11), S(96, -29), S(68, 19), S(25, 26), S(6, 65)},
		{S(-32, 19), S(-18, 42), S(12, -21), S(21, 6), S(27, -29), S(30, -22), S(-91, 27), S(-101, 29)},
	},
	{
		{},
		{S(-18, 6), S(-11, -4), S(-4, -6), S(4, -18), S(8, -1), S(13, -1), S(42, -10), S(-1, -17)},
		{S(-11, -4), S(-27, -5), S(-1, -8), S(-1, -11), S(10, -7), S(-5, -3), S(7, -13), S(-9, -22)},
		{S(-3, -9), S(-6, -12), S(12, -23), S(33, -19), S(32, -16), S(23, -11), S(23, -24), S(3, -26)},
		{S(-17, 18), S(1, -4), S(33, -45), S(20, -15), S(41, -41), S(43, -24), S(18, 4), S(-5, -12)},
		{S(-26, 75), S(13, 16), S(41, -25), S(24, 1), S(83, -32), S(40, 7), S(38, 13), S(-16, 31)},
		{S(-15, 33), S(-28, 33), S(-27, 9), S(17, -36), S(52, 0), S(44, -8), S(-91, 32), S(-120, 71)},
	},
	{
		{},
		{S(-20, 19), S(-11, 17), S(-6, 6), S(-3, 14), S(-21, 21), S(7, 19), S(34, 9), S(-10, 17)},
		{S(-16, 9), S(-20, 4), S(-7, -16), S(3, -6), S(-7, -11), S(-5, 12), S(3, 3), S(-17, 20)},
		{S(-17, 26), S(-5, 10), S(10, -8), S(13, -30), S(31, -29), S(11, -9), S(5, 20), S(-15, 30)},
		{S(-6, 48), S(11, 17), S(4, -11), S(24, -15), S(33, -38), S(34, 6), S(28, 11), S(-11, 48)},
		{S(-24, 88), S(5, 43), S(8, 32), S(63, -21), S(71, -16), S(81, -6), S(56, 40), S(4, 71)},
		{S(37, 40), S(-27, 43), S(5, 25), S(42, 18), S(73, -36), S(52, 17), S(-78, 61), S(-125, 98)},
	},
	{
		{},
		{S(-4, 29), S(2, 17), S(-9, 21), S(-2, 20), S(-10, 24), S(16, 31), S(26, 8), S(-2, 15)},
		{S(-4, 18), S(-9, 4), S(0, 9), S(6, -3), S(7, 9), S(-1, 8), S(7, 19), S(-11, 14)},
		{S(-3, 32), S(5, 16), S(15, -4), S(28, -8), S(36, -15), S(22, 8), S(7, 23), S(-9, 25)},
		{S(13, 43), S(18, 14), S(9, 13), S(34, -14), S(47, -18), S(45, -6), S(35, 28), S(-8, 43)},
		{S(-7, 98), S(30, 43), S(37, 35), S(66, -18), S(76, -20), S(82, 6), S(28, 47), S(-3, 73)},
		{S(16, 69), S(-37, 21), S(12, 41), S(51, 18), S(22, -2), S(51, 31), S(-52, 21), S(-132, 47)},
	},
	{
		{},
		{S(-5, -18), S(1, -12), S(-5, -8), S(4, -26), S(3, 4), S(7, -18), S(44, 0), S(-1, -10)},
		{S(-5, -19), S(-8, -13), S(-11, -32), S(3, -13), S(-6, -33), S(5, -5), S(-7, -23), S(-7, -2)},
		{S(-5, -11), S(8, -32), S(17, -20), S(14, -57), S(36, -32), S(10, -30), S(14, -4), S(-8, 7)},
		{S(7, -4), S(10, -1), S(10, -41), S(22, -19), S(36, -62), S(71, -27), S(28, -21), S(16, 7)},
		{S(-6, 23), S(45, -8), S(23, -8), S(46, -33), S(80, -54), S(94, -50), S(85, -16), S(46, 11)},
		{S(87, -84), S(5, 23), S(19, -83), S(27, -11), S(76, -106), S(21, 3), S(-36, -120), S(-111, 21)},
	},
	{
		{},
		{S(-7, 4), S(-4, 15), S(-6, 8), S(-1, 5), S(1, 19), S(8, 16), S(30, 17), S(-4, 11)},
		{S(-7, 1), S(-17, 7), S(-6, 0), S(2, 6), S(3, -5), S(-9, 27), S(0, 2), S(-10, -3)},
		{S(-4, 7), S(-3, 5), S(16, -9), S(26, -22), S(31, -6), S(10, 8), S(5, 11), S(-11, 16)},
		{S(7, 27), S(15, 16), S(7, 6), S(27, -4), S(39, -26), S(48, -7), S(15, 13), S(-12, 21)},
		{S(-5, 56), S(25, 30), S(15, 23), S(44, 14), S(84, -33), S(85, 17), S(21, -10), S(-4, 78)},
		{S(12, -6), S(-41, 20), S(-21, -2), S(58, -8), S(-26, -55), S(33, -39), S(-64, 39), S(-135, 18)},
	},
	{
		{},
		{S(-14, 22), S(-6, 7), S(-15, 14), S(-7, 6), S(-13, 14), S(13, 13), S(21, 10), S(-10, 18)},
		{S(-11, 10), S(-15, 0), S(-8, -2), S(-2, -14), S(1, -7), S(-15, 2), S(7, 11), S(-16, 14)},
		{S(-10, 27), S(-8, 19), S(1, -15), S(19, -27), S(22, -35), S(13, 0), S(-5, 18), S(-16, 27)},
		{S(-1, 54), S(10, 11), S(-2, 3), S(12, -33), S(35, -14), S(22, -16), S(23, 21), S(-17, 41)},
		{S(13, 74), S(10, 45), S(63, 5), S(45, -19), S(67, -20), S(84, 14), S(97, 21), S(-7, 62)},
		{S(-32, 58), S(-12, 36), S(44, 17), S(44, -19), S(38, 22), S(42, -16), S(-86, 21), S(-123, 61)},
	},
	{
		{},
		{S(6, -3), S(7, -22), S(-7, -8), S(26, -4), S(-6, -9), S(36, 1), S(31, -23), S(9, -14)},
		{S(3, -11), S(-1, -31), S(15, -21), S(7, -31), S(21, -9), S(-5, -19), S(23, -4), S(-1, -22)},
		{S(5, 7), S(2, -15), S(17, -48), S(39, -28), S(33, -57), S(42, -18), S(12, -17), S(2, -6)},
		{S(20, 12), S(29, -31), S(19, -23), S(22, -67), S(56, -39), S(40, -46), S(36, 0), S(5, -3)},
		{S(40, 31), S(20, 3), S(57, -20), S(74, -42), S(83, -53), S(136, -47), S(68, -19), S(28, 6)},
		{S(1, 20), S(36, -71), S(7, 46), S(53, -80), S(17, -31), S(65, -119), S(-100, -9), S(-117, -71)},
	},
	{
		{},
		{S(-8, 27), S(-1, 18), S(-8, 31), S(-8, 20), S(-14, 35), S(14, 16), S(29, 19), S(-4, 13)},
		{S(-10, 20), S(-8, 13), S(-6, 12), S(5, 8), S(2, -6), S(-3, 19), S(6, 10), S(-12, 12)},
		{S(-3, 24), S(1, 22), S(14, 5), S(20, -4), S(31, -7), S(24, 2), S(10, 19), S(-11, 24)},
		{S(0, 47), S(18, 24), S(9, 11), S(24, -9), S(39, -15), S(47, -4), S(27, 16), S(-5, 39)},
		{S(8, 76), S(15, 67), S(45, 11), S(34, 9), S(91, -22), S(75, 29), S(92, 7), S(2, 67)},
		{S(-13, 47), S(-11, 67), S(-13, 15), S(27, 19), S(80, -15), S(66, -50), S(-89, 25), S(-156, 75)},
	},
	{
		{},
		{S(-9, 22), S(-1, 10), S(-6, 15), S(8, 18), S(-12, 28), S(19, 15), S(29, -3), S(-2, 2)},
		{S(-7, 9), S(-12, 7), S(-3, 19), S(3, -1), S(7, 10), S(-6, 4), S(10, 2), S(-12, 2)},
		{S(-1, 22), S(5, 6), S(14, -10), S(29, 4), S(33, -23), S(28, 3), S(8, 3), S(-14, 11)},
		{S(12, 23), S(19, 22), S(12, 18), S(29, -43), S(39, -19), S(48, -26), S(17, 21), S(-19, 39)},
		{S(0, 80), S(23, 54), S(34, 8), S(44, -17), S(62, -11), S(88, -13), S(40, 42), S(1, 34)},
		{S(-16, -8), S(3, 27), S(9, 5), S(21, 5), S(34, -7), S(37, 0), S(-88, 35), S(-117, 35)},
	},
	{
		{},
		{S(-27, 25), S(-16, 18), S(-6, 1), S(-5, 4), S(-24, -12), S(2, 6), S(20, -6), S(0, -9)},
		{S(-22, 23), S(-26, 11), S(-24, 2), S(-4, -10), S(1, -29), S(-4, -12), S(1, -4), S(-6, -3)},
		{S(-15, 34), S(-15, 19), S(4, -25), S(8, -36), S(24, -60), S(22, -29), S(-9, 17), S(-4, 10)},
		{S(-9, 39), S(1, 30), S(-1, 10), S(20, -31), S(27, -26), S(41, -50), S(19, 18), S(4, 38)},
		{S(-23, 131), S(-2, 74), S(4, 47), S(48, 15), S(63, -2), S(84, 2), S(70, 31), S(-18, 106)},
		{S(-15, 49), S(-13, 39), S(-16, 36), S(-1, -8), S(15, -9), S(30, -45), S(-52, 33), S(-93, 78)},
	},
	{
		{},
		{S(-9, 32), S(0, 14), S(-9, 13), S(-1, 9), S(-15, 13), S(14, 28), S(15, 2), S(-2, 2)},
		{S(-8, 22), S(-17, 3), S(1, 6), S(5, -27), S(5, 5), S(-4, -6), S(4, 8), S(-11, -3)},
		{S(-2, 35), S(-2, 17), S(14, -21), S(25, -8), S(32, -41), S(22, 1), S(6, 3), S(-6, 5)},
		{S(11, 54), S(14, 12), S(14, 11), S(30, -49), S(46, -14), S(33, -26), S(34, 21), S(-6, 35)},
		{S(9, 88), S(26, 75), S(29, 40), S(40, 16), S(35, 33), S(88, -14), S(35, 35), S(4, 66)},
		{S(11, 99), S(-29, 48), S(-3, 30), S(33, -15), S(30, -5), S(-11, -50), S(-120, -9), S(-106, 83)},
	},
	{
		{},
		{S(-18, 24), S(-6, 13), S(-8, 25), S(-2, 4), S(-22, 27), S(-1, 6), S(20, 23), S(-8, 17)},
		{S(-15, 9), S(-11, 9), S(-6, -20), S(2, -1), S(-9, -17), S(-7, 10), S(-2, -4), S(-13, 16)},
		{S(-13, 27), S(-4, 15), S(13, -1), S(15, -37), S(32, -20), S(12, -15), S(7, 7), S(-15, 19)},
		{S(-6, 50), S(20, 27), S(2, -3), S(23, -2), S(34, -44), S(52, -22), S(24, -3), S(-7, 44)},
		{S(-1, 110), S(16, 45), S(47, 32), S(27, 6), S(90, -17), S(60, 12), S(47, 31), S(6, 61)},
		{S(-13, 14), S(-17, 76), S(-51, 28), S(10, 26), S(8, -24), S(28, 10), S(-76, 21), S(-134, 64)},
	},
	{
		{},
		{S(-12, 26), S(-4, 31), S(-14, 31), S(-7, 16), S(-19, 19), S(3, 32), S(13, 20), S(-11, 18)},
		{S(-11, 21), S(-16, 18), S(-8, 19), S(-2, 11), S(-3, 11), S(-14, 35), S(-8, 19), S(-20, 15)},
		{S(-4, 27), S(-3, 27), S(11, 8), S(18, 5), S(26, -10), S(13, 13), S(-2, 24), S(-20, 26)},
		{S(5, 56), S(18, 26), S(2, 34), S(24, -15), S(33, -5), S(38, -7), S(16, 27), S(-15, 41)},
		{S(5, 97), S(17, 71), S(16, 75), S(43, 9), S(58, -15), S(61, -1), S(28, 27), S(-10, 70)},
		{S(-90, 110), S(-74, 21), S(-36, 47), S(5, 1), S(15, -41), S(32, 3), S(-60, 16), S(-162, 25)},
	},
}

// Piece Square Values
var PieceScores = [King + 1][8][8]Score{
	{},
	{ // knight
		{S(-78, -88), S(-24, -44), S(-40, -32), S(-24, -5), S(-25, -10), S(-26, -31), S(-29, -31), S(-84, -43)},
		{S(-29, -32), S(-18, -22), S(-18, -38), S(-17, -10), S(-24, -11), S(-17, -31), S(-26, -15), S(-22, -21)},
		{S(-13, -45), S(-8, -19), S(-10, -12), S(-3, 10), S(-3, 8), S(-18, -11), S(-7, -22), S(-22, -46)},
		{S(-10, -7), S(-8, 5), S(7, 22), S(-3, 34), S(8, 32), S(1, 26), S(19, -1), S(-11, 1)},
		{S(-2, 8), S(-4, 7), S(7, 34), S(10, 52), S(8, 45), S(24, 31), S(7, 10), S(8, 8)},
		{S(-51, 6), S(-25, 14), S(-6, 41), S(5, 43), S(25, 31), S(22, 35), S(-15, 9), S(-21, -2)},
		{S(-2, -23), S(-14, -5), S(22, -19), S(30, 18), S(35, 9), S(58, -38), S(-24, -7), S(12, -35)},
		{S(-204, -54), S(-98, -10), S(-154, 26), S(-30, -7), S(8, -9), S(-128, 31), S(-75, -11), S(-189, -71)},
	},
	{ // Bishop
		{S(30, -40), S(49, -13), S(5, 1), S(14, 2), S(-1, 11), S(16, -8), S(14, -12), S(22, -41)},
		{S(45, -36), S(20, -36), S(40, -9), S(8, 5), S(17, 0), S(18, -13), S(32, -41), S(21, -64)},
		{S(21, -8), S(50, -1), S(8, -7), S(33, 12), S(16, 21), S(16, -14), S(28, 0), S(33, -9)},
		{S(16, -6), S(22, 8), S(32, 16), S(22, 27), S(41, 23), S(16, 20), S(27, 5), S(12, -6)},
		{S(-9, 18), S(29, 15), S(1, 32), S(41, 35), S(22, 37), S(27, 23), S(19, 14), S(2, 18)},
		{S(2, 12), S(-11, 34), S(13, 6), S(8, 36), S(28, 33), S(-5, 21), S(9, 32), S(-9, 21)},
		{S(-30, 32), S(-7, 7), S(12, 27), S(-13, 38), S(-8, 40), S(15, 29), S(-21, 8), S(-30, 32)},
		{S(-23, -2), S(-64, 41), S(-126, 51), S(-106, 60), S(-106, 55), S(-100, 47), S(23, 17), S(-41, 1)},
	},
	{ // Rook
		{S(-23, -28), S(-18, -19), S(-11, -18), S(-2, -26), S(-5, -29), S(-5, -19), S(-4, -27), S(-13, -45)},
		{S(-57, -25), S(-23, -35), S(-21, -27), S(-17, -31), S(-17, -33), S(-3, -39), S(2, -48), S(-56, -20)},
		{S(-43, -18), S(-28, -4), S(-34, -5), S(-19, -16), S(-22, -14), S(-18, -9), S(6, -17), S(-27, -21)},
		{S(-36, 7), S(-34, 23), S(-30, 24), S(-17, 11), S(-21, 11), S(-19, 16), S(-8, 12), S(-18, 3)},
		{S(-31, 33), S(-6, 31), S(2, 33), S(29, 22), S(11, 22), S(21, 22), S(16, 15), S(0, 22)},
		{S(-34, 44), S(20, 28), S(13, 39), S(37, 20), S(41, 20), S(64, 29), S(83, 0), S(7, 31)},
		{S(-26, 54), S(-19, 57), S(8, 49), S(31, 50), S(16, 53), S(67, 19), S(16, 35), S(28, 30)},
		{S(17, 43), S(28, 47), S(0, 57), S(10, 50), S(11, 49), S(60, 43), S(79, 37), S(63, 42)},
	},
	{ // Queen
		{S(8, -106), S(1, -82), S(4, -83), S(8, -51), S(10, -81), S(-12, -78), S(5, -121), S(5, -111)},
		{S(-3, -80), S(6, -62), S(11, -82), S(3, -43), S(3, -49), S(16, -98), S(23, -105), S(17, -93)},
		{S(-10, -58), S(5, -30), S(1, -3), S(-6, -11), S(-5, -15), S(-1, 3), S(17, -36), S(8, -54)},
		{S(-11, -46), S(-6, 5), S(-11, 13), S(-21, 66), S(-20, 54), S(5, 40), S(9, 9), S(14, 10)},
		{S(-26, -19), S(-17, 20), S(-30, 23), S(-26, 77), S(-29, 99), S(-3, 91), S(20, 73), S(15, 50)},
		{S(-45, -2), S(-28, -3), S(-31, 21), S(-10, 40), S(6, 73), S(47, 70), S(55, 54), S(25, 79)},
		{S(-43, 18), S(-78, 45), S(-28, 24), S(-58, 75), S(-34, 108), S(23, 82), S(-35, 80), S(14, 30)},
		{S(-42, 24), S(-8, 12), S(-13, 47), S(11, 43), S(15, 60), S(60, 49), S(89, 19), S(60, 9)},
	},
	{ // King
		{S(144, -10), S(130, 25), S(56, 63), S(55, 65), S(78, 52), S(58, 59), S(150, 18), S(164, -31)},
		{S(154, 35), S(100, 58), S(39, 90), S(39, 111), S(35, 119), S(54, 88), S(131, 47), S(157, 33)},
		{S(114, 27), S(150, 43), S(89, 81), S(89, 121), S(70, 128), S(101, 82), S(134, 47), S(107, 37)},
		{S(142, 11), S(266, 30), S(158, 90), S(84, 140), S(86, 142), S(145, 91), S(220, 42), S(91, 30)},
		{S(132, 49), S(324, 43), S(157, 106), S(110, 138), S(87, 144), S(193, 101), S(267, 51), S(98, 52)},
		{S(140, 47), S(324, 63), S(224, 103), S(173, 111), S(175, 119), S(253, 93), S(301, 64), S(134, 44)},
		{S(136, -4), S(222, 62), S(212, 76), S(177, 90), S(127, 97), S(174, 78), S(203, 69), S(125, -2)},
		{S(180, -123), S(312, -40), S(201, 1), S(173, 54), S(154, 53), S(167, 11), S(287, -26), S(145, -100)},
	},
}

var PawnsConnected = [7][4]Score{
	{S(0, 0), S(0, 0), S(0, 0), S(0, 0)},
	{S(-1, -15), S(7, 3), S(2, -2), S(13, 14)},
	{S(10, 5), S(20, 2), S(21, 10), S(23, 15)},
	{S(9, 5), S(19, 10), S(11, 11), S(15, 20)},
	{S(3, 18), S(16, 26), S(28, 30), S(25, 24)},
	{S(36, 32), S(23, 73), S(65, 77), S(73, 93)},
	{S(176, 38), S(280, 22), S(275, 56), S(316, 56)},
}

var MobilityBonus = [...][32]Score{
	{S(-59, -124), S(-43, -68), S(-30, -20), S(-22, 2), S(-16, 15), S(-10, 31), // Knights
		S(-2, 34), S(6, 30), S(16, 14)},
	{S(2, -126), S(9, -57), S(16, -16), S(23, 5), S(29, 19), S(34, 34), // Bishops
		S(36, 43), S(36, 47), S(35, 49), S(40, 49), S(43, 44), S(52, 34),
		S(72, 34), S(79, 7)},
	{S(-110, -156), S(-15, -26), S(-4, 25), S(-4, 50), S(-2, 60), S(0, 73), // Rooks
		S(2, 83), S(5, 89), S(9, 94), S(12, 101), S(14, 108), S(16, 114),
		S(21, 115), S(37, 101), S(96, 56)},
	{S(-413, -159), S(-130, -143), S(-45, -178), S(-22, -116), S(-8, -82), S(-9, -12), // Queens
		S(-6, 15), S(-2, 35), S(1, 51), S(4, 63), S(7, 72), S(10, 74),
		S(12, 77), S(14, 82), S(17, 77), S(15, 82), S(14, 78), S(12, 78),
		S(17, 67), S(23, 54), S(35, 32), S(37, 14), S(40, -3), S(52, -40),
		S(24, -28), S(-60, -9), S(140, -118), S(56, -79)},
}

var PassedFriendlyDistance = [8]Score{
	S(0, 0), S(-1, 36), S(-7, 21), S(-5, 6),
	S(-3, -7), S(-2, -18), S(9, -29), S(8, -39),
}

var PassedEnemyDistance = [8]Score{
	S(0, 0), S(-84, -45), S(-2, -14), S(3, 5),
	S(7, 17), S(10, 24), S(10, 32), S(14, 38),
}

// PassedRank[Rank] contains a bonus according to the rank of a passed pawn, whether it can be pushed and whether the push would be safe
var PassedRank = [2][2][2][7]Score{
	{
		{
			{S(0, 0), S(-45, -25), S(-36, 8), S(-24, 13), S(30, 13), S(45, 16), S(172, 88)},
			{S(0, 0), S(-30, -56), S(-29, -22), S(-18, 3), S(29, 23), S(58, 35), S(162, 127)},
		},
		{
			{S(0, 0), S(-17, -29), S(-24, -1), S(-16, 19), S(14, 47), S(56, 82), S(250, 141)},
			{S(0, 0), S(-8, -55), S(-24, -7), S(-18, 24), S(14, 58), S(74, 86), S(223, 175)},
		},
	},
	{
		{
			{S(0, 0), S(-18, -9), S(-27, -4), S(-9, 21), S(29, 48), S(63, 98), S(275, 180)},
			{S(0, 0), S(-13, -23), S(-19, -5), S(-9, 36), S(34, 65), S(71, 107), S(232, 226)},
		},
		{
			{S(0, 0), S(-27, -15), S(-24, -13), S(-10, 30), S(21, 85), S(32, 233), S(76, 412)},
			{S(0, 0), S(-14, -34), S(-16, -17), S(-7, 32), S(23, 91), S(55, 220), S(137, 424)},
		},
	},
}

// PassedFile[File] contains a bonus according to the file of a passed pawn
var PassedFile = [8]Score{S(-1, 22), S(-1, 25), S(0, 9), S(-2, -3),
	S(-8, 3), S(-18, 10), S(-16, 22), S(2, 8),
}

var PassedStacked = [7]Score{S(0, 0), S(-21, -61), S(-31, -44), S(-47, -57), S(-26, -58), S(41, -103), S(0, 0)}
var PassedUncontested = [6]Score{S(0, 0), S(-85, 46), S(-73, 44), S(-81, 47), S(-77, 50), S(-66, 38)}
var PassedPushDefended = [6]Score{S(0, 0), S(-5, 19), S(-1, 6), S(5, -1), S(-3, 5), S(-18, 16)}
var PassedPushUncontestedDefended = [6]Score{S(0, 0), S(-57, 33), S(-36, 25), S(-63, 49), S(-71, 59), S(-58, 73)}

var Isolated = S(-6, -15)

// Is doubled, can be traded
var StackedPawns = [2][2][8]Score{
	{
		{S(-14, -39), S(-13, -28), S(-2, -25), S(-6, -23), S(-9, -22), S(-4, -26), S(-1, -30), S(6, -37)},
		{S(-19, -41), S(-13, -25), S(-4, -19), S(-15, -24), S(-13, -17), S(-8, -26), S(-8, -31), S(1, -43)},
	},
	{
		{S(-19, -45), S(-14, -31), S(-13, -37), S(-22, -40), S(-15, -34), S(-2, -36), S(-7, -36), S(-12, -48)},
		{S(-23, -48), S(-7, -37), S(-20, -37), S(-22, -33), S(-19, -36), S(-8, -44), S(1, -44), S(-18, -51)},
	},
}
var AttackedBySafePawn = [5]Score{
	S(40, 73),
	S(40, 82),
	S(35, 33),
	S(37, 21),
	S(37, 36),
}

var Backward = S(7, -3)
var BackwardOpen = S(-3, -20)

var BishopPair = S(14, 80)
var BishopRammedPawns = S(-7, -23)

var BishopOutpostUndefendedBonus = S(19, -5)
var BishopOutpostDefendedBonus = S(48, 12)

var LongDiagonalBishop = S(20, 25)
var DistantBishop = [4]Score{S(-6, 1), S(-11, 0), S(-13, -2), S(-15, -20)}

var KnightOutpostUndefendedBonus = S(18, -24)
var KnightOutpostDefendedBonus = S(41, 13)

var DistantKnight = [4]Score{S(-14, -1), S(-16, -11), S(-27, -13), S(-50, -19)}

var MinorBehindPawn = S(7, 29)

var Tempo int16 = 15

// Rook on semiopen, open file
var RookOnFile = [2]Score{S(12, 12), S(36, 5)}
var RookOnQueenFile = S(5, 24)
var TrappedRook = S(-31, 0)

var KingDefenders = [12]Score{
	S(-24, -14), S(-8, -9), S(0, -7), S(4, -4),
	S(7, -2), S(9, 4), S(14, 8), S(17, 9),
	S(17, 13), S(16, -62), S(-16, -12), S(11, 0),
}

var KingShelter = [2][8][8]Score{
	{{S(-24, 11), S(8, -13), S(18, 1), S(21, 4),
		S(25, -16), S(20, -8), S(16, -42), S(-87, 40)},
		{S(18, 8), S(23, -6), S(-5, 11), S(-8, 7),
			S(1, -2), S(20, 0), S(41, -17), S(-42, 24)},
		{S(16, 4), S(6, -1), S(-26, -1), S(-23, -4),
			S(-3, -19), S(0, 1), S(20, -11), S(-28, 1)},
		{S(-15, 17), S(12, -2), S(-4, -9), S(-5, -8),
			S(5, -24), S(-4, -9), S(14, 21), S(-12, -1)},
		{S(-32, 20), S(-15, 7), S(-32, 6), S(-24, 8),
			S(1, -8), S(-20, 2), S(11, -2), S(-22, 2)},
		{S(39, -17), S(23, -15), S(3, -12), S(4, -22),
			S(11, -27), S(24, -19), S(31, -18), S(-9, -2)},
		{S(16, -1), S(-4, -8), S(-29, 1), S(-20, 2),
			S(-5, -16), S(7, -5), S(15, -16), S(-25, 20)},
		{S(-42, 10), S(-27, -1), S(-20, 25), S(-22, 22),
			S(-22, 14), S(-12, 12), S(-11, -14), S(-67, 48)}},
	{{S(34, 56), S(-36, -13), S(-25, 4), S(-31, -7),
		S(-40, -15), S(-5, 5), S(-41, -17), S(-88, 40)},
		{S(137, 17), S(8, -4), S(-5, 5), S(-24, 18),
			S(-8, -13), S(10, 0), S(14, -3), S(-77, 27)},
		{S(-4, 33), S(35, 5), S(10, -1), S(16, -7),
			S(22, -8), S(13, 4), S(38, 5), S(-22, 7)},
		{S(5, 33), S(-12, 21), S(-14, 14), S(-22, 22),
			S(-3, 8), S(-6, 3), S(-5, 11), S(-42, -2)},
		{S(4, 23), S(-5, 9), S(-9, 4), S(-11, -2),
			S(-7, -1), S(2, -6), S(14, 2), S(-27, -3)},
		{S(17, 21), S(-4, 7), S(-17, 8), S(-13, 5),
			S(-4, 0), S(-35, 13), S(-4, 4), S(-34, 9)},
		{S(30, 6), S(-4, -16), S(-11, -14), S(-28, -9),
			S(-12, -17), S(1, -15), S(3, -17), S(-67, 21)},
		{S(-27, -3), S(-13, -31), S(-10, -18), S(-6, -25),
			S(-6, -36), S(0, -22), S(-4, -49), S(-67, 27)}},
}

var KingStorm = [2][4][8]Score{
	{{S(11, 8), S(2, 15), S(8, 7), S(5, 9),
		S(5, 6), S(12, 1), S(7, 9), S(-9, -5)},
		{S(25, 1), S(16, 7), S(19, 3), S(6, 9),
			S(19, 1), S(26, -9), S(19, -6), S(-4, -4)},
		{S(23, 10), S(6, 8), S(5, 10), S(-2, 10),
			S(1, 7), S(7, 2), S(8, -6), S(0, 5)},
		{S(8, 1), S(5, -2), S(8, -9), S(-1, -11),
			S(-2, -4), S(15, -14), S(8, -12), S(-9, 4)}},
	{{S(0, 0), S(3, 2), S(-14, 6), S(13, -8),
		S(0, 20), S(-15, 30), S(3, 51), S(-8, -4)},
		{S(0, 0), S(-53, -10), S(6, -9), S(44, -9),
			S(4, -2), S(-12, -7), S(13, 53), S(-6, -1)},
		{S(0, 0), S(-20, -13), S(-7, -9), S(13, -3),
			S(5, -6), S(-12, -18), S(31, -40), S(-4, 5)},
		{S(0, 0), S(-19, -28), S(-13, -27), S(-5, -13),
			S(1, -25), S(3, -53), S(5, -2), S(-12, -4)}},
}
var KingOnPawnlessFlank = S(-14, -69)

var Hanging = S(28, 14)
var ThreatByKing = S(-7, 36)
var ThreatByMinor = [King + 1]Score{S(0, 0), S(19, 41), S(17, 40), S(32, 30), S(30, 30), S(1, 29)}
var ThreatByRook = [King + 1]Score{S(0, 0), S(-2, 13), S(-1, 18), S(-4, -11), S(34, 9), S(13, 9)}

// This weights are from black piece on black square perspective
var RookBishopExistence = [16]Score{
	S(13, -8), S(2, -9), S(2, -8), S(1, 0), S(-1, -5), S(-6, 37), S(-3, 0), S(-6, 20), S(1, -6), S(-3, -2), S(-6, 37), S(-6, 21), S(-8, -19), S(-4, 18), S(-2, 18), S(-19, 56),
}
var QueenBishopExistence = [16]Score{
	S(86, -49), S(-5, -8), S(-3, -22), S(-26, -10), S(-4, -7), S(10, 78), S(-19, 0), S(-2, -4), S(0, -2), S(-16, 25), S(12, 74), S(2, 5), S(-38, -12), S(-8, 38), S(-12, 31), S(-17, 34),
}
var KingBishopExistence = [16]Score{
	S(0, 0), S(-3, 6), S(-2, 7), S(-20, -5), S(2, -12), S(-1, -6), S(-2, -4), S(-2, 7), S(4, -4), S(2, 4), S(1, 6), S(1, 15), S(20, 5), S(2, -14), S(3, -11), S(0, 0),
}

//
// King safety
//

var KingSafetyAttacksWeights = [Queen + 1]Score{S(0, 39), S(-3, -13), S(-6, 32), S(-3, -21), S(-1, 42)}
var KingSafetyWeakSquares = S(40, 29)
var KingSafetyFriendlyPawns = S(-27, -6)
var KingSafetyNoEnemyQueens = S(-166, -174)
var KingSafetySafeQueenCheck = S(86, 98)
var KingSafetySafeRookCheck = S(75, 84)
var KingSafetySafeBishopCheck = S(46, 50)
var KingSafetySafeKnightCheck = S(111, 105)
var KingSafetyAdjustment = S(-21, -2)

// Attack value is special as it is scaled by a fraction
var KingSafetyAttackValue = S(113, 140)

//
// Complexity
//

var ComplexityTotalPawns = S(0, 6)
var ComplexityPawnEndgame = S(0, 83)
var ComplexityPawnBothFlanks = S(0, 106)
var ComplexityInfiltration = S(0, 6)
var ComplexityAdjustment = S(0, -173)
